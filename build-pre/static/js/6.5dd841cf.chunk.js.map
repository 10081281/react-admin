{"version":3,"sources":["pages/login/banner/style.less","pages/login/banner/logo.png","pages/login/banner/star.png","pages/login/style.less","pages/login/banner/index.jsx","pages/login/index.jsx"],"names":["module","exports","root","active","logo","star","star-animation","__webpack_require__","p","left","right","box","header","submit-btn","error-tip","tip","form-item","index","state","isMount","this","setState","react_default","a","createElement","className","getClassName_default","_styleModuleImportMap","src","alt","Component","config","path","ajax","noFrame","noAuth","keepAlive","es_form","create","loading","message","handleSubmit","e","preventDefault","_this","props","form","validateFields","err","values","params","userName","password","post","errorTip","then","res","id","name","setLoginUser","toHome","catch","finally","_this2","_this$props$form","setFieldsValue","setTimeout","fieldsError","_this$props$form2","getFieldDecorator","getFieldsError","getFieldError","isFieldTouched","getFieldsValue","_this$state","_getFieldsValue","userNameError","passwordError","formItemStyleName","Helmet","title","style","position","bottom","header_color_picker","banner_index","onSubmit","login_styleModuleImportMap","Item","validateStatus","help","rules","required","input","allowClear","autoFocus","prefix","icon","type","fontSize","placeholder","Password","es_button","htmlType","disabled","Object","keys","some","field"],"mappings":"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","file":"static/js/6.5dd841cf.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"root-wNstz\",\"active\":\"active-3T8WU\",\"logo\":\"logo-3UP4x\",\"star\":\"star-2hbsv\",\"star-animation\":\"star-animation-2RLLI\"};","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD4AAAAwCAYAAABJy8k0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA21pVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo5OGMyMjFkNi0yNmUzLTBkNDItOGIxOC0zMWU1NTU5YmM0NzIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MjNCODc0NTBENkVEMTFFOTk0RjE5OUJFM0U3MDVCRTgiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MjNCODc0NEZENkVEMTFFOTk0RjE5OUJFM0U3MDVCRTgiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkExNTM1NzZCRTgyNTY4MTE4MjJBRUQxMkYzNUZBMzZBIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjk4YzIyMWQ2LTI2ZTMtMGQ0Mi04YjE4LTMxZTU1NTliYzQ3MiIvPiA8L3JkZjpE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\"","module.exports = __webpack_public_path__ + \"static/media/star.0454d3a7.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"root-3ZHF3\",\"left\":\"left-3GUmJ\",\"right\":\"right-2Put7\",\"box\":\"box-P6VRJ\",\"header\":\"header-2AKvq\",\"submit-btn\":\"submit-btn-3Yto5\",\"error-tip\":\"error-tip-1gvfu\",\"tip\":\"tip-1j-PU\",\"form-item\":\"form-item-3elAQ\",\"active\":\"active-8Nh6l\"};","import React, {Component} from 'react';\nimport './style.less';\nimport logo from './logo.png';\nimport star from './star.png';\n\nexport default class index extends Component {\n    state = {\n        isMount: false,\n    };\n\n    componentDidMount() {\n        this.setState({isMount: true});\n    }\n\n\n    render() {\n        const {isMount} = this.state;\n\n        return (\n            <div styleName={isMount ? 'root active' : 'root'}>\n                <div styleName=\"star\">\n                    <img src={star} alt=\"星星\"/>\n                </div>\n                <div styleName=\"logo\">\n                    <img src={logo} alt=\"图标\"/>\n                    <span>React Admin</span>\n                </div>\n            </div>\n        );\n    }\n}\n","import React, {Component} from 'react';\nimport {Helmet} from 'react-helmet';\nimport {Form, Icon, Input, Button} from 'antd';\nimport {setLoginUser, toHome} from '@/commons';\nimport config from '@/commons/config-hoc';\nimport Color from '@/layouts/header-color-picker';\nimport Banner from './banner/index';\nimport './style.less';\n\nfunction hasErrors(fieldsError) {\n    return Object.keys(fieldsError).some(field => fieldsError[field]);\n}\n\n@config({\n    path: '/login',\n    ajax: true,\n    noFrame: true,\n    noAuth: true,\n    keepAlive: false,\n})\n@Form.create()\nexport default class extends Component {\n    state = {\n        loading: false,\n        message: '',\n        isMount: false,\n    };\n\n    componentDidMount() {\n        const {form: {validateFields, setFieldsValue}} = this.props;\n        // 一开始禁用提交按钮\n        validateFields(() => void 0);\n\n        // 开发时方便测试，填写表单\n        if (process.env.NODE_ENV === 'development' || process.env.BASE_NAME === '/react-admin-live') {\n            setFieldsValue({userName: 'admin', password: '111'});\n        }\n\n        setTimeout(() => this.setState({isMount: true}), 200);\n    }\n\n    handleSubmit = (e) => {\n        e && e.preventDefault();\n        if (this.state.loading) return;\n        this.props.form.validateFields((err, values) => {\n            if (err) return;\n\n            const {userName, password} = values;\n            const params = {\n                userName,\n                password,\n            };\n\n            this.setState({loading: true, message: ''});\n            this.props.ajax.post('/mock/login', params, {errorTip: false})\n                .then(res => {\n                    const {id, name} = res;\n                    setLoginUser({\n                        id,\n                        name,\n                    });\n                    toHome();\n                })\n                .catch(() => {\n                    this.setState({message: '用户名或密码错误！'});\n                })\n                .finally(() => this.setState({loading: false}));\n        });\n    };\n\n    render() {\n        const {\n            getFieldDecorator,\n            getFieldsError,\n            getFieldError,\n            isFieldTouched,\n            getFieldsValue,\n        } = this.props.form;\n\n        const {loading, message} = this.state;\n        const {userName, password} = getFieldsValue();\n        const userNameError = isFieldTouched('userName') && getFieldError('userName');\n        const passwordError = isFieldTouched('password') && getFieldError('password');\n        const {isMount} = this.state;\n        const formItemStyleName = isMount ? 'form-item active' : 'form-item';\n\n        return (\n            <div styleName=\"root\" className=\"login-bg\">\n                <Helmet title=\"欢迎登陆\"/>\n                <div style={{position: 'fixed', bottom: -1000}}><Color/></div>\n                <div styleName=\"left\">\n                    <Banner/>\n                </div>\n                <div styleName=\"right\">\n                    <div styleName=\"box\">\n                        <Form onSubmit={this.handleSubmit} className='inputLine'>\n                            <div styleName={formItemStyleName}>\n                                <div styleName=\"header\">欢迎登录</div>\n                            </div>\n                            <div styleName={formItemStyleName}>\n                                <Form.Item\n                                    validateStatus={userNameError ? 'error' : ''}\n                                    help={userNameError || ''}\n                                >\n                                    {getFieldDecorator('userName', {\n                                        rules: [{required: true, message: '请输入用户名'}],\n                                    })(\n                                        <Input allowClear autoFocus prefix={<Icon type=\"user\" style={{fontSize: 13}}/>} placeholder=\"用户名\"/>,\n                                    )}\n                                </Form.Item>\n                            </div>\n                            <div styleName={formItemStyleName}>\n                                <Form.Item\n                                    validateStatus={passwordError ? 'error' : ''}\n                                    help={passwordError || ''}\n                                >\n                                    {getFieldDecorator('password', {\n                                        rules: [{required: true, message: '请输入密码'}],\n                                    })(\n                                        <Input.Password prefix={<Icon type=\"lock\" style={{fontSize: 13}}/>} placeholder=\"密码\"/>,\n                                    )}\n                                </Form.Item>\n                            </div>\n                            <div styleName={formItemStyleName}>\n                                <Button\n                                    styleName=\"submit-btn\"\n                                    loading={loading}\n                                    type=\"primary\"\n                                    htmlType=\"submit\"\n                                    disabled={hasErrors(getFieldsError())}\n                                >\n                                    登录\n                                </Button>\n                            </div>\n                        </Form>\n                        <div styleName=\"error-tip\">{message}</div>\n                        <div styleName=\"tip\">\n                            <span>用户名：{userName} </span>\n                            <span>密码：{password}</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\n"],"sourceRoot":""}